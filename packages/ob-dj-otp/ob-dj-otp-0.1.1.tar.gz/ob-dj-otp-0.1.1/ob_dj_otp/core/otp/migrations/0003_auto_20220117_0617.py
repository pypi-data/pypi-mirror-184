# Generated by Django 3.1.12 on 2022-01-17 03:17

from django.db import migrations, models


class Migration(migrations.Migration):

    dependencies = [
        ("otp", "0002_auto_20211207_1658"),
    ]

    operations = [
        migrations.AddConstraint(
            model_name="onetruepairing",
            constraint=models.CheckConstraint(
                check=models.Q(
                    models.Q(
                        models.Q(("usage", "auth"), ("user__isnull", True)),
                        models.Q(
                            ("status", "init"),
                            ("usage", "register"),
                            ("user__isnull", False),
                        ),
                        _connector="OR",
                    ),
                    _negated=True,
                ),
                name="check_usage_and_user_compatibility",
            ),
        ),
    ]
