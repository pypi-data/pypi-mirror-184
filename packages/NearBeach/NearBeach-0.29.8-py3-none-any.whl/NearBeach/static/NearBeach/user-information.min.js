"use strict";(self.webpackChunknearbeach=self.webpackChunknearbeach||[]).push([[8195],{3744:(e,s)=>{s.Z=(e,s)=>{const l=e.__vccOpts||e;for(const[e,t]of s)l[e]=t;return l}},6729:(e,s,l)=>{l.r(s),l.d(s,{default:()=>X});var t=l(6252),o=l(3577),n=l(9963);const a={class:"card"},r={class:"card-body"},i=(0,t._)("h1",null,"User Information",-1),d=(0,t._)("br",null,null,-1),u=["href"],c=(0,t._)("hr",null,null,-1),m={class:"row"},h=(0,t._)("div",{class:"col-md-4"},[(0,t._)("strong",null,"UserName"),(0,t._)("p",{class:"text-instructions"}," The username is set and can not be changed from this location. If you need to change the username, please go to the Django Admin Panel. "),(0,t._)("p",{class:"text-instructions"}," The ID is the primary key assigned to the username. This can not be edited. It can be ignored. ")],-1),_={class:"col-md-8"},p=(0,t._)("strong",null,"Username:",-1),v=(0,t._)("strong",null," | ID:",-1),M=(0,t._)("hr",null,null,-1),f={class:"row"},g=(0,t._)("div",{class:"col-md-4"},[(0,t._)("strong",null,"User Details"),(0,t._)("p",{class:"text-instructions"}," Please fill out the user details. ")],-1),U={class:"col-md-8"},y={class:"row"},w={class:"col-md-6"},k=(0,t.Uk)(" First Name: "),b={key:0,class:"error"},E=(0,t._)("br",null,null,-1),S={class:"col-md-6"},I=(0,t.Uk)(" Last Name: "),$={key:0,class:"error"},x=(0,t._)("br",null,null,-1),T={class:"col-md-6"},D=(0,t.Uk)(" Email: "),L={key:0,class:"error"},N=(0,t._)("br",null,null,-1),R=(0,t._)("hr",null,null,-1),C={class:"row"},A=(0,t._)("div",{class:"col-md-4"},[(0,t._)("strong",null,"Active User"),(0,t._)("p",{class:"text-instructions"}," Untick this option if the user is no longer active. ")],-1),B={class:"col-md-8"},q=(0,t._)("label",null,"Is User Active? ",-1),P=(0,t._)("hr",null,null,-1),V={class:"row"},Z=(0,t._)("div",{class:"col-md-4"},[(0,t._)("strong",null,"Is User a Superuser"),(0,t._)("p",{class:"text-instructions"}," Tick this functionality if you would like the user to gain access to the /admin/ functionality. This is not recommended for anyone outside of an IT team. ")],-1),H={class:"col-md-8"},F=(0,t._)("label",null,"Is User a Superuser? ",-1),j=(0,t._)("hr",null,null,-1),O={class:"row submit-row"},G={class:"col-md-12"};var W=l(3058),Y=l(8416),z=l(4028),J=l(2587);const K=l(9669),Q={name:"UserInformation",setup:()=>({v$:(0,z.ZP)()}),props:{userResults:{type:Array,default:()=>[]},rootUrl:{type:String,default:"/"}},data(){return{emailModel:this.userResults[0].fields.email,isActiveModel:this.userResults[0].fields.is_active,isSuperuserModel:this.userResults[0].fields.is_superuser,firstNameModel:this.userResults[0].fields.first_name,lastNameModel:this.userResults[0].fields.last_name}},mixins:[W.Z,Y.Z],validations:{lastNameModel:{required:J.C1,maxLength:(0,J.BS)(255)},firstNameModel:{required:J.C1,maxLength:(0,J.BS)(255)},emailModel:{required:J.C1,email:J.Do,maxLength:(0,J.BS)(255)}},methods:{updateUser:function(){if(this.v$.$touch(),this.v$.$invalid)return void this.showValidationErrorModal();this.showLoadingModal("User Information");const e=new FormData;e.set("email",this.emailModel),e.set("is_active",this.isActiveModel),e.set("is_superuser",this.isSuperuserModel),e.set("first_name",this.firstNameModel),e.set("last_name",this.lastNameModel),K.post(`${this.rootUrl}user_information/${this.userResults[0].pk}/save/`,e).then((e=>{this.closeLoadingModal()})).catch((e=>{this.showErrorModal(e,"Update User",this.userResults[0].pk)}))}},mounted(){this.$store.commit({type:"updateUrl",rootUrl:this.rootUrl})}},X=(0,l(3744).Z)(Q,[["render",function(e,s,l,W,Y,z){return(0,t.wg)(),(0,t.iD)("div",a,[(0,t._)("div",r,[i,d,(0,t._)("a",{href:`${this.rootUrl}search/user/`},"Go back to user list",8,u),c,(0,t.kq)(" USERNAME "),(0,t._)("div",m,[h,(0,t._)("div",_,[p,(0,t.Uk)(" "+(0,o.toDisplayString)(l.userResults[0].fields.username)+" ",1),v,(0,t.Uk)(" "+(0,o.toDisplayString)(l.userResults[0].pk),1)])]),(0,t.kq)(" USER DETAILS "),M,(0,t._)("div",f,[g,(0,t._)("div",U,[(0,t._)("div",y,[(0,t._)("div",w,[(0,t._)("label",null,[k,W.v$.firstNameModel.$errors.length>0?((0,t.wg)(),(0,t.iD)("span",b," Please suppy a first name.")):(0,t.kq)("v-if",!0),E]),(0,t.wy)((0,t._)("input",{type:"text","onUpdate:modelValue":s[0]||(s[0]=e=>Y.firstNameModel=e),class:"form-control"},null,512),[[n.vModelText,Y.firstNameModel]])]),(0,t._)("div",S,[(0,t._)("label",null,[I,W.v$.lastNameModel.$errors.length>0?((0,t.wg)(),(0,t.iD)("span",$," Please suppy a last name.")):(0,t.kq)("v-if",!0),x]),(0,t.wy)((0,t._)("input",{type:"text","onUpdate:modelValue":s[1]||(s[1]=e=>Y.lastNameModel=e),class:"form-control"},null,512),[[n.vModelText,Y.lastNameModel]])]),(0,t._)("div",T,[(0,t._)("label",null,[D,W.v$.emailModel.$errors.length>0?((0,t.wg)(),(0,t.iD)("span",L," Please suppy an email.")):(0,t.kq)("v-if",!0),N]),(0,t.wy)((0,t._)("input",{type:"email","onUpdate:modelValue":s[2]||(s[2]=e=>Y.emailModel=e),class:"form-control"},null,512),[[n.vModelText,Y.emailModel]])])])])]),R,(0,t.kq)(" Active USER "),(0,t._)("div",C,[A,(0,t._)("div",B,[q,(0,t.wy)((0,t._)("input",{type:"checkbox","onUpdate:modelValue":s[3]||(s[3]=e=>Y.isActiveModel=e)},null,512),[[n.vModelCheckbox,Y.isActiveModel]])])]),P,(0,t.kq)(" User is SUPER "),(0,t._)("div",V,[Z,(0,t._)("div",H,[F,(0,t.wy)((0,t._)("input",{type:"checkbox","onUpdate:modelValue":s[4]||(s[4]=e=>Y.isSuperuserModel=e)},null,512),[[n.vModelCheckbox,Y.isSuperuserModel]])])]),j,(0,t.kq)(" UPDATE USER "),(0,t._)("div",O,[(0,t._)("div",G,[(0,t._)("a",{href:"javascript:void(0)",class:"btn btn-primary save-changes",onClick:s[5]||(s[5]=(...e)=>z.updateUser&&z.updateUser(...e))}," Update User Details ")])])])])}]])},3058:(e,s,l)=>{l.d(s,{Z:()=>o});var t=l(5169);const o={methods:{showErrorModal:function(e,s,l){new t.u_(document.getElementById("loadingModal")).hide(),document.getElementById("errorModalContent").innerHTML=`<strong>HTML ISSUE:</strong> We could not save the new ${s}-${l}<hr>${e}`,new t.u_(document.getElementById("errorModal")).show()},showValidationErrorModal:function(){document.getElementById("errorModalContent").innerHTML="<strong>FORM ISSUE:</strong> Sorry, but can you please fill out the form completely.",new t.u_(document.getElementById("errorModal")).show()}}}},8416:(e,s,l)=>{l.d(s,{Z:()=>o});var t=l(5169);const o={methods:{closeLoadingModal:function(){const e=new t.u_(document.getElementById("loadingModal"));document.getElementById("loadingModalContent").innerHTML="UPDATED SUCCESSFULLY",setTimeout((()=>{e.hide()}),1e3)},showLoadingModal:function(e){new t.u_(document.getElementById("loadingModal")).show(),document.getElementById("loadingModalContent").innerHTML=`Updating your ${e} details`}}}}}]);