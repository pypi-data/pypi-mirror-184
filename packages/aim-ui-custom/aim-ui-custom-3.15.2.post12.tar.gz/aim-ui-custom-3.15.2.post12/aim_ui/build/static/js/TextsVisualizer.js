(this.webpackJsonpui_v2=this.webpackJsonpui_v2||[]).push([[21],{1504:function(e,n,t){},1528:function(e,n,t){"use strict";t.r(n);var l=t(0),r=t.n(l),a=t(7),s=t(333),o=t.n(s),i=function(e){for(var n=e.url,t=e.allowFullScreen,l=e.position,s=e.display,i=e.height,c=e.width,u=e.overflow,d=e.styles,p=e.onLoad,f=e.onMouseOver,h=e.onMouseOut,b=e.scrolling,m=e.id,v=e.frameBorder,y=e.ariaHidden,x=e.sandbox,g=e.allow,j=e.className,w=e.title,O=e.ariaLabel,k=e.ariaLabelledby,F=e.name,E=e.target,L=e.loading,S=e.importance,q=e.referrerpolicy,R=e.allowpaymentrequest,C=e.src,$=e.key,_=o()({src:C||n,target:E||null,style:{position:l||null,display:s||"initial",overflow:u||null},scrolling:b||null,allowpaymentrequest:R||null,importance:S||null,sandbox:x&&Object(a.a)(x).join(" ")||null,loading:L||null,styles:d||null,name:F||null,className:j||null,allowFullScreen:"allowFullScreen",referrerpolicy:q||null,title:w||null,allow:g||null,id:m||null,"aria-labelledby":k||null,"aria-hidden":y||null,"aria-label":O||null,width:c||null,height:i||null,onLoad:p||null,onMouseOver:f||null,onMouseOut:h||null,key:$||"iframe"}),z=Object.create(null),N=0,B=Object.keys(_);N<B.length;N++){var T=B[N];null!=_[T]&&(z[T]=_[T])}for(var U=0,M=Object.keys(z.style);U<M.length;U++){var I=M[U];null==z.style[I]&&delete z.style[I]}if(z.styles)for(var W=0,D=Object.keys(z.styles);W<D.length;W++){var V=D[W];z.styles.hasOwnProperty(V)&&(z.style[V]=z.styles[V]),Object.keys(z.styles).pop()==V&&delete z.styles}if(t)if("allow"in z){var P=z.allow.replace("fullscreen","");z.allow="fullscreen ".concat(P.trim()).trim()}else z.allow="fullscreen";return v>=0&&(z.style.hasOwnProperty("border")||(z.style.border=v)),r.a.createElement("iframe",Object.assign({},z))},c={fullscreenEnabled:0,fullscreenElement:1,requestFullscreen:2,exitFullscreen:3,fullscreenchange:4,fullscreenerror:5,fullscreen:6},u=["webkitFullscreenEnabled","webkitFullscreenElement","webkitRequestFullscreen","webkitExitFullscreen","webkitfullscreenchange","webkitfullscreenerror","-webkit-full-screen"],d=["mozFullScreenEnabled","mozFullScreenElement","mozRequestFullScreen","mozCancelFullScreen","mozfullscreenchange","mozfullscreenerror","-moz-full-screen"],p=["msFullscreenEnabled","msFullscreenElement","msRequestFullscreen","msExitFullscreen","MSFullscreenChange","MSFullscreenError","-ms-fullscreen"],f="undefined"!==typeof window&&"undefined"!==typeof window.document?window.document:{},h="fullscreenEnabled"in f&&Object.keys(c)||u[0]in f&&u||d[0]in f&&d||p[0]in f&&p||[],b={requestFullscreen:function(e){return e[h[c.requestFullscreen]]()},requestFullscreenFunction:function(e){return e[h[c.requestFullscreen]]},get exitFullscreen(){return f[h[c.exitFullscreen]].bind(f)},get fullscreenPseudoClass(){return":"+h[c.fullscreen]},addEventListener:function(e,n,t){return f.addEventListener(h[c[e]],n,t)},removeEventListener:function(e,n,t){return f.removeEventListener(h[c[e]],n,t)},get fullscreenEnabled(){return Boolean(f[h[c.fullscreenEnabled]])},set fullscreenEnabled(e){},get fullscreenElement(){return f[h[c.fullscreenElement]]},set fullscreenElement(e){},get onfullscreenchange(){return f[("on"+h[c.fullscreenchange]).toLowerCase()]},set onfullscreenchange(e){return f[("on"+h[c.fullscreenchange]).toLowerCase()]=e},get onfullscreenerror(){return f[("on"+h[c.fullscreenerror]).toLowerCase()]},set onfullscreenerror(e){return f[("on"+h[c.fullscreenerror]).toLowerCase()]=e}};var m=function(e){var n=e.handle,t=e.onChange,a=e.children,s=e.className,o=[];return s&&o.push(s),o.push("fullscreen"),n.active&&o.push("fullscreen-enabled"),Object(l.useEffect)((function(){t&&t(n.active,n)}),[n.active]),r.a.createElement("div",{className:o.join(" "),ref:n.node,style:n.active?{height:"100%",width:"100%"}:void 0},a)},v=t(11),y=t(172),x=(t(1504),t(1)),g="\n<style>\nbody {\n  background: white;\n}\n.fullscreen-button {\n  position: absolute;\n  z-index: 100;\n  top:  5px;\n  right:  5px;\n  background: rgba(0,0,0,0.05);\n  border:  0;\n  width:  40px;\n  height:  40px;\n  border-radius: 50%;\n  box-sizing: border-box;\n  transition:  transform .3s;\n  font-size: 0;\n  opacity: 1;\n  pointer-events: auto;\n  cursor:  pointer;\n}\n.fullscreen-button:hover {\n  transform: scale(1.125);\n}\n.fullscreen-button span {\n  background: white;\n  width:  4px;\n  height:  4px;\n  border-top:  2.5px solid #111; /* color */\n  border-left:  2.5px solid #111; /* color */\n  position: absolute;\n  outline: 1px solid transparent;\n  -webkit-backface-visibility: hidden;\n  transform: translateZ(0);\n  will-change: transform;\n  -webkit-perspective: 1000;\n  transition:  .3s;\n  transition-delay: .75s;\n}\n.fullscreen-button span:nth-child(1) {\n  top: 11px;\n  left: 11px;\n}\n.fullscreen-button span:nth-child(2) {\n  top: 11px;\n  left: 22px;\n  transform: rotate(90deg);\n}\n.fullscreen-button span:nth-child(3) {\n  top: 22px;\n  left: 11px;\n  transform: rotate(-90deg);\n}\n.fullscreen-button span:nth-child(4) {\n  top: 22px;\n  left: 22px;\n  transform: rotate(-180deg);\n}\n\n/* Fullscreen True\n------------------------------*/\n[fullscreen] .fullscreen-button span:nth-child(1) {\n  top: 22px;\n  left: 22px;\n}\n[fullscreen] .fullscreen-button span:nth-child(2) {\n  top: 22px;\n  left: 11px;\n}\n[fullscreen] .fullscreen-button span:nth-child(3) {\n  top: 11px;\n  left: 22px;\n}\n[fullscreen] .fullscreen-button span:nth-child(4) {\n  top: 11px;\n  left: 11px;\n}\n\n/* Dark Style\n------------------------------*/\n[light-mode=dark] {\n  background: #111;\n  color:  #fff;\n}\n[light-mode=dark] .fullscreen-button {\n  background: rgba(255,255,255,.05);\n}\n\n[light-mode=dark] .fullscreen-button span {\n  border-top:  2.5px solid #fff;\n  border-left:  2.5px solid #fff;\n}\n</style>\n",j=function(e){var n=function(){var e=Object(l.useState)(!1),n=e[0],t=e[1],r=Object(l.useRef)(null);Object(l.useEffect)((function(){var e=function(){t(b.fullscreenElement===r.current)};return b.addEventListener("fullscreenchange",e),function(){return b.removeEventListener("fullscreenchange",e)}}),[]);var a=Object(l.useCallback)((function(){return b.fullscreenElement?b.exitFullscreen().then((function(){return b.requestFullscreen(r.current)})):r.current?b.requestFullscreen(r.current):void 0}),[]),s=Object(l.useCallback)((function(){return b.fullscreenElement===r.current?b.exitFullscreen():Promise.resolve()}),[]);return Object(l.useMemo)((function(){return{active:n,enter:a,exit:s,node:r}}),[n,a,s])}();return Object(x.jsxs)(x.Fragment,{children:[Object(x.jsxs)("button",{className:"fullscreen-button",onClick:n.enter,children:[Object(x.jsx)("span",{}),Object(x.jsx)("span",{}),Object(x.jsx)("span",{}),Object(x.jsx)("span",{})]}),Object(x.jsx)(m,{className:"myfullscreen",handle:n,children:e.children})]})};function w(e){var n=e.split(",",2),t=n[0].substr(5).split(";")[0],l=O(n[1],t);return URL.createObjectURL(l)}var O=function(e){for(var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",t=arguments.length>2&&void 0!==arguments[2]?arguments[2]:512,l=atob(e),r=[],a=0;a<l.length;a+=t){for(var s=l.slice(a,a+t),o=new Array(s.length),i=0;i<s.length;i++)o[i]=s.charCodeAt(i);var c=new Uint8Array(o);r.push(c)}var u=new Blob(r,{type:n});return u};function k(e){if(!e)return!1;for(var n=0;n<e.length;n++)if(!e[n].text.startsWith("data:text/"))return!1;return!0}function F(e){return e.startsWith("data:text/table,")}function E(e){var n=new Set;return n.add("data:text/pdb"),n.add("data:text/sdf"),n.add("data:text/pdbqt"),n.add("data:text/mol2"),n.add("data:text/molecule-file-url"),n.add("data:text/molecule-file"),n.has(e.split(",",1)[0])}function L(e){return e.startsWith("data:text/html,")}function S(e){for(var n=[{expression:/&/g,replacement:"&amp;"},{expression:/</g,replacement:"&lt;"},{expression:/>/g,replacement:"&gt;"},{expression:/"/g,replacement:"&quot;"},{expression:/'/g,replacement:"&#039;"}],t=e.toString(),l=0;l<n.length;++l){var r=n[l];t=t.replaceAll(r.expression,r.replacement)}return t}function q(e){var n,t,l,r=window.location.protocol+"//"+window.location.host;if("object"===typeof e){var a=e;l=(n=r+"/artifacts/"+a.path).split(".").pop(),a.trajectory_path&&(t=r+"/artifacts/"+a.trajectory_path)}else if(e.startsWith("data:text/molecule-file,")){e=e.substring("data:text/molecule-file,".length);var s=JSON.parse(e);l=(n=r+"/artifacts/"+s.path).split(".").pop(),s.trajectory_path&&(t=r+"/artifacts/"+s.trajectory_path)}else if(e.startsWith("data:text/molecule-file-url,")){l=(n=r+"/artifacts/"+e.substring("data:text/molecule-file-url,".length)).split(".").pop()}else{l=e.substring(0,e.indexOf(",")).split("/")[1],e=e.substring(e.indexOf(",")+1);var o=new Blob([e],{type:"text/plain"});n=URL.createObjectURL(o)}return'<!DOCTYPE html>\n  <html lang="en">\n    <head>\n      <meta charset="utf-8">\n      <meta name="viewport" content="width=device-width, user-scalable=no, minimum-scale=1.0, maximum-scale=1.0">\n      '.concat(g,'\n      <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/jqueryui/1.12.0/jquery-ui.css">\n    </head>\n    <body>\n      <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.1.0/jquery.min.js"><\/script> \n      <script src="https://cdnjs.cloudflare.com/ajax/libs/jqueryui/1.12.0/jquery-ui.js"><\/script>\n      <script src="https://cdnjs.cloudflare.com/ajax/libs/ngl/2.0.2/ngl.js"><\/script>\n      <script>\n        var stage;\n\n        function toggleFullscreen() {\n          stage.toggleFullscreen();\n        }\n\n        document.addEventListener("DOMContentLoaded", function () {\n\n          stage = new NGL.Stage("viewport", { backgroundColor: "white" } );\n          var url = "').concat(n,'";\n          var dtype = "').concat(l,"\";\n\n          stage.loadFile(url, {defaultRepresentation: true, ext: dtype}).then(function (o) {\n            o.addRepresentation('cartoon');\n            o.autoView();\n            var trajectory_url = \"").concat(t,'";\n            if (trajectory_url !== "undefined") {\n              NGL.autoLoad(trajectory_url).then(function (frames) {\n                var traj = o.addTrajectory(frames).trajectory;\n                var component = stage.compList[0];\n                component.addRepresentation("cartoon", {\'sele\': \'protein\'});\n                component.addRepresentation("licorice", {\'sele\': \'not hydrogen and not protein\'});\n                \n                var container = stage.viewer.container;\n                var $container = $(container);\n                var frame = 0;\n                var timeout = 1000;\n                var playerInterval;\n                var count = traj.numframes || traj._frameCount;\n        \n                var pause = function(){\n                    $playerButton.text( "play" );\n                    if( playerInterval !== undefined ){\n                        clearInterval( playerInterval );\n                    }\n                }\n                \n                var play = function(){\n                    $playerButton.text( "pause" );\n                    playerInterval = setInterval(function(){\n                        frame = frame + 1;\n                            \n                        if (frame > count - 1){\n                            frame = 0;\n                        }\n                            \n                        $playerSlider.slider("option", "value", frame);\n                        traj.setFrame(frame);\n                    }, timeout)\n                };\n                \n                var $playerButton = $("<button>play</button>")\n                    .css( "float", "left" )\n                    .css( "width", "55px" )\n                    .css( "opacity", "0.7" )\n                    .click( function( event ){\n                        if($playerButton.text() === "play" ){\n                            play();\n                        }else if($playerButton.text() === "pause" ){\n                            pause();\n                        }\n                    });\n                \n                var $playerSlider = $( "<div></div>" )\n                    .css( "margin-left", "70px" )\n                    .css( "position", "relative" )\n                    .css( "bottom", "-4px" )\n                    .slider({\n                        value: 0,\n                        min: 0,\n                        max: count-1,\n                        slide: function(event, ui){\n                            pause();\n                            traj.setFrame(ui.value);\n                            frame = ui.value;\n                        },\n                    })\n                \n                var $player = $( "<div></div>" )\n                    .css( "position", "relative" )\n                    .css( "bottom", "10%" )\n                    .css( "width", "94%" )\n                    .css( "margin-left", "3%" )\n                    .css( "opacity", "0.7" )\n                    .append( $playerButton )\n                    .append( $playerSlider )\n                    .appendTo( $container );\n              });\n            } else {\n              stage.setSpin(true);\n            }\n          });\n        });\n      <\/script>\n      <button class="fullscreen-button" onclick="toggleFullscreen()">\n        <span></span>\n        <span></span>\n        <span></span>\n        <span></span>\n      </button>\n      <div style="width:100%; height:300px;">\n        <div id="viewport" style="width:100%; height:100%;"></div>\n      </div>\n    </body>\n  </html>')}function R(e){var n;e=e.substring("data:text/table,".length);try{n=JSON.parse(e)}catch(p){return null}for(var t='data:text/html,<html>\n  <head>\n    <script src="https://code.jquery.com/jquery-3.5.1.js"><\/script>\n    <script src="https://cdn.datatables.net/1.13.1/js/jquery.dataTables.min.js"><\/script>\n    <script src="https://cdn.datatables.net/1.13.1/js/dataTables.bootstrap5.min.js"><\/script>\n    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/5.2.0/css/bootstrap.min.css">\n    <link rel="stylesheet" href="https://cdn.datatables.net/1.13.1/css/dataTables.bootstrap5.min.css">\n    '.concat(g,'\n    <style>\n    body {\n      margin: 15px;\n    }\n    </style>\n  </head>\n  <body>\n    <script>\n      function go_fullscreen(elem){\n        elem.nextElementSibling.requestFullscreen();\n        return false;\n      }\n    <\/script>\n    <table class="table table-striped" style="width:100%">\n      <thead>\n        <tr>'),l=0;l<n.columns.length;l++)t+="<th>"+S(n.columns[l])+"</th>";t+="</tr>\n      </thead>\n      <tbody>";for(l=0;l<n.data.length;l++){t+="<tr>";for(var r=0;r<n.data[l].length;r++){var a=n.data[l][r]?n.data[l][r].toString():"",s=void 0,o=window.location.protocol+"//"+window.location.host;if("object"===typeof n.data[l][r]&&(s=n.data[l][r]),s&&"image-file"===s._type||a.startsWith("data:image/")){var i=s&&"image-file"===s._type?o+"/artifacts/"+s.path:w(n.data[l][r]);t+='\n          <td>\n            <div style="position: relative;">\n              <button class="fullscreen-button" onclick="go_fullscreen(this)">\n                <span></span>\n                <span></span>\n                <span></span>\n                <span></span>\n              </button>\n              <img src="'.concat(i,'" loading="lazy" height="200px">\n            </div>\n          </td>')}else if(s&&"molecule-file"===s._type||a.startsWith("data:text/")){var c=new Blob([q(s||a)],{type:"text/html"}),u=URL.createObjectURL(c);t+='<td><iframe src="'.concat(u,'" loading="lazy" allow="fullscreen" width="200px" height="200px" style="border: 0; color: white;"></iframe></td>')}else{var d=n.data[l][r]?S(n.data[l][r].toString()):"";t+="<td>".concat(d,"</td>")}}t+="</tr>"}return C(t+="\n      </tbody>\n    <table>\n    <script>\n    $(document).ready(function () {\n        $('table').DataTable();\n    });\n    <\/script>\n  </body>\n  </html>",!0)}function C(e,n){e=e.substring("data:text/html,".length);var t=new Blob([e],{type:"text/html"}),l=URL.createObjectURL(t),r=Object(x.jsx)(i,{url:l,width:"100%",height:"100%",loading:"lazy",className:"",display:"block",position:"relative",allowFullScreen:!0,styles:{border:"1px solid rgb(233 232 231)",backgroudColor:"#fff",padding:"20px"}});return Object(x.jsx)("div",{style:{height:"350px",position:"relative"},children:n?Object(x.jsx)(j,{children:r}):r})}function $(e){var n,t,l,a=r.a.useRef(null),s=[{dataKey:"step",key:"step",title:"Step",width:100},{dataKey:"index",key:"index",title:"Index",width:100},{dataKey:"text",key:"text",title:"Text",width:0,flexGrow:1,cellRenderer:function(e){var n=e.cellData;return Object(x.jsx)("div",{className:"ScrollBar__hidden",style:{overflow:"auto"},children:Object(x.jsx)("pre",{children:n})})}}];return Object(x.jsx)(v.a,{children:Object(x.jsx)("div",{className:"TextsVisualizer",style:{height:"100%",overflow:"auto"},children:k(null===e||void 0===e||null===(n=e.data)||void 0===n?void 0:n.processedValues)?((null===e||void 0===e||null===(t=e.data)||void 0===t?void 0:t.processedValues)||[]).reverse().map((function(e){return Object(x.jsx)("div",{children:Object(x.jsxs)("section",{children:[Object(x.jsxs)("p",{children:["Step ",e.step]}),E(e.text)?(n=e.text,C(q(n),!1)):null,F(e.text)?R(e.text):null,L(e.text)?C(e.text,!0):null]})},"custom-resource-"+e.step);var n})):Object(x.jsx)(y.a,{tableRef:a,tableData:null===e||void 0===e||null===(l=e.data)||void 0===l?void 0:l.processedValues,tableColumns:s,isLoading:null===e||void 0===e?void 0:e.isLoading,searchableKeys:["text"]})})})}$.displayName="TextsVisualizer";var _=r.a.memo($);n.default=_}}]);
//# sourceMappingURL=TextsVisualizer.js.map?version=205a43a7d30e0261eca6