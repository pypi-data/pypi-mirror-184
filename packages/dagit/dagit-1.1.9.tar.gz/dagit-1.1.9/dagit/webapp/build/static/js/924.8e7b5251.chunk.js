(self.webpackChunk_dagster_io_dagit_app=self.webpackChunk_dagster_io_dagit_app||[]).push([[924],{40515:function(n,e,r){"use strict";r.d(e,{_:function(){return i}});var t=r(73701),o=r(96560),i=function(){var n=(0,t.a)(u).data;return!(null===n||void 0===n||!n.instance.hasInfo)},u=(0,o.B)("\n  query InstanceConfigHasInfo {\n    instance {\n      hasInfo\n    }\n  }\n")},70598:function(n,e,r){"use strict";r.d(e,{xR:function(){return h},Qf:function(){return g},ic:function(){return v}});var t=r(59019),o=r(19065),i=r(31269),u=r(90428),s=r.n(u),l=r(325),a=r(27601),c=r(96560),d=r(37286),f=r(34653),p=r(45302),x=r(32289),h=l.memo((function(n){var e=n.queuedCount,r=n.inProgressCount,u=(0,p.oD)(),s=(0,o.Z)(u,1)[0],l=g(s),a=function(n){var e=s.filter((function(n){return"status"!==n.token})),r=n.map((function(n){return{token:"status",value:n}}));return(0,p.it)([].concat((0,t.Z)(r),(0,t.Z)(e)))};return(0,x.jsxs)(i.mQ,{selectedTabId:l,id:"run-tabs",children:[(0,x.jsx)(d.f,{title:"All runs",to:a([]),id:"all"}),(0,x.jsx)(d.f,{title:"Queued",count:null!==e&&void 0!==e?e:"indeterminate",to:a(Array.from(f.sy)),id:"queued"}),(0,x.jsx)(d.f,{title:"In progress",count:null!==r&&void 0!==r?r:"indeterminate",to:a(Array.from(f.Ys)),id:"in-progress"}),(0,x.jsx)(d.f,{title:"Done",to:a(Array.from(f.cv)),id:"done"}),(0,x.jsx)(d.f,{title:"Scheduled",to:"/runs/scheduled",id:"scheduled"})]})})),g=function(n){var e=(0,a.TH)().pathname;if("/runs/timeline"===e)return"timeline";if("/runs/scheduled"===e)return"scheduled";if("/overview/backfills"===e)return"backfills";var r=new Set(n.filter((function(n){return"status"===n.token})).map((function(n){return n.value})));return s()(f.sy,r)?"queued":s()(f.Ys,r)?"in-progress":s()(f.cv,r)?"done":"all"},v=(0,c.B)("\n  query RunTabsCountQuery($queuedFilter: RunsFilter!, $inProgressFilter: RunsFilter!) {\n    queuedCount: pipelineRunsOrError(filter: $queuedFilter) {\n      ... on Runs {\n        count\n      }\n    }\n    inProgressCount: pipelineRunsOrError(filter: $inProgressFilter) {\n      ... on Runs {\n        count\n      }\n    }\n  }\n")},31747:function(n,e,r){"use strict";r.d(e,{a:function(){return g}});var t=r(59019),o=r(95764),i=r(19065),u=r(73701),s=r(31112),l=r(12745),a=r(32030),c=r(325),d=r(19102),f=r(70598),p=r(34653),x=r(45302),h=r(32289),g=function(n){var e=n.refreshStates,r=(0,x.oD)(),g=(0,i.Z)(r,1)[0],v=(0,x.VH)(g),m=(0,u.a)(f.ic,{variables:{queuedFilter:(0,o.Z)((0,o.Z)({},v),{},{statuses:Array.from(p.sy)}),inProgressFilter:(0,o.Z)((0,o.Z)({},v),{},{statuses:Array.from(p.Ys)})}}),C=m.data,w=c.useMemo((function(){var n,e;return{queuedCount:"Runs"===(null===C||void 0===C||null===(n=C.queuedCount)||void 0===n?void 0:n.__typename)?C.queuedCount.count:null,inProgressCount:"Runs"===(null===C||void 0===C||null===(e=C.inProgressCount)||void 0===e?void 0:e.__typename)?C.inProgressCount.count:null}}),[C]),j=w.queuedCount,y=w.inProgressCount,b=(0,d.C4)(m,d.dT),R=d.V5.apply(void 0,[b].concat((0,t.Z)(e)));return(0,h.jsx)(s.m,{title:(0,h.jsx)(l.X6,{children:"Runs"}),tabs:(0,h.jsxs)(a.x,{flex:{direction:"row",justifyContent:"space-between",alignItems:"flex-end"},children:[(0,h.jsx)(f.xR,{queuedCount:j,inProgressCount:y}),(0,h.jsx)(a.x,{padding:{bottom:8},children:(0,h.jsx)(d.xi,{refreshState:R})})]})})}},75206:function(n,e,r){"use strict";r.r(e),r.d(e,{RunsRoot:function(){return F}});var t=r(95764),o=r(59019),i=r(19065),u=r(73701),s=r(57615),l=r(30804),a=r(32030),c=r(7838),d=r(60736),f=r(89646),p=r(54268),x=r(47387),h=r(69346),g=r.n(h),v=r(325),m=r(74549),C=r(19102),w=r(78093),j=r(96560),y=r(82348),b=r(25171),R=r(40515),k=r(50741),_=r(62278),Z=r(70598),q=r(22797),P=r(55752),I=r(45302),T=r(31747),E=r(77892),A=r(32289),F=function(){(0,w.Px)(),(0,y.j)("Runs");var n=(0,I.oD)(),e=(0,i.Z)(n,2),r=e[0],u=e[1],h=(0,I.VH)(r),j=(0,R._)(),b=(0,E.l)({nextCursorForResult:function(n){var e;if("Runs"===n.pipelineRunsOrError.__typename)return null===(e=n.pipelineRunsOrError.results[24])||void 0===e?void 0:e.runId},getResultArray:function(n){return n&&"Runs"===n.pipelineRunsOrError.__typename?n.pipelineRunsOrError.results:[]},variables:{filter:h},query:$,pageSize:25}),F=b.queryResult,S=b.paginationProps,Y=(0,C.C4)(F,C.dT),B=(0,Z.Qf)(r),Q="all"!==B,D=g()(r,(function(n){return"status"===n.token})),N=(0,i.Z)(D,2),H=N[0],G=N[1],U=v.useCallback((function(n){u(Q?[].concat((0,o.Z)(H),(0,o.Z)(n)):n)}),[u,Q,H]),V=v.useCallback((function(n){var e=(0,s.HY)(n);G.some((function(n){return(0,s.HY)(n)===e}))||U([].concat((0,o.Z)(G),[n]))}),[G,U]),z=v.useMemo((function(){var n=["tag","snapshotId","id","job","pipeline"];return Q||n.push("status"),n}),[Q]),M=v.useMemo((function(){return Q?r.filter((function(n){return"status"!==n.token})):r}),[r,Q]);return(0,A.jsxs)(l.T,{children:[(0,A.jsx)(T.a,{refreshStates:[Y]}),"queued"===B&&j?(0,A.jsxs)(a.x,{flex:{direction:"column",gap:8},padding:{horizontal:24,vertical:16},border:{side:"bottom",width:1,color:c.w.KeylineGray},children:[(0,A.jsx)(d.b,{intent:"info",title:(0,A.jsx)(m.rU,{to:"/config#run_coordinator",children:"View queue configuration"})}),(0,A.jsx)(O,{})]}):null,(0,A.jsx)(P.Lw.Provider,{value:{refetch:F.refetch},children:(0,A.jsx)(k.g,{queryResult:F,allowStaleData:!0,renderError:function(n){var e=!(null===n||void 0===n||!n.networkError||!("statusCode"in n.networkError)||400!==n.networkError.statusCode);return(0,A.jsxs)(a.x,{flex:{direction:"column",gap:32},padding:{vertical:8,left:24,right:12},children:[(0,A.jsx)(I.nr,{tokens:M,onChange:U,loading:F.loading,enabledFilters:z}),(0,A.jsx)(f.t,{icon:"warning",title:e?"Invalid run filters":"Unexpected error",description:e?"The specified run filters are not valid. Please check the filters and try again.":"An unexpected error occurred. Check the console for details."})]})},children:function(n){var e=n.pipelineRunsOrError;return"Runs"!==e.__typename?(0,A.jsx)(a.x,{padding:{vertical:64},children:(0,A.jsx)(f.t,{icon:"error",title:"Query Error",description:e.message})}):(0,A.jsxs)(A.Fragment,{children:[(0,A.jsx)(_.Y,{$top:0,children:(0,A.jsx)(q.A,{runs:e.results.slice(0,25),onAddTag:V,filter:h,actionBarComponents:(0,A.jsxs)(a.x,{flex:{direction:"column",gap:8},children:["all"!==B?(0,A.jsx)(a.x,{flex:{direction:"row",gap:8},children:r.filter((function(n){return"status"===n.token})).map((function(n){var e=n.token,r=n.value;return(0,A.jsx)(p.V,{children:"".concat(e,":").concat(r)},e)}))}):null,(0,A.jsx)(I.nr,{tokens:M,onChange:U,loading:F.loading,enabledFilters:z})]})})}),e.results.length>0?(0,A.jsx)("div",{style:{marginTop:"16px"},children:(0,A.jsx)(x.pI,(0,t.Z)({},S))}):null]})}})})]})};e.default=F;var $=(0,j.B)("\n  query RunsRootQuery($limit: Int, $cursor: String, $filter: RunsFilter!) {\n    pipelineRunsOrError(limit: $limit, cursor: $cursor, filter: $filter) {\n      ... on Runs {\n        results {\n          id\n          ...RunTableRunFragment\n        }\n      }\n      ... on InvalidPipelineRunsFilterError {\n        message\n      }\n      ...PythonErrorFragment\n    }\n  }\n"),O=function(){var n=(0,u.a)(S).data,e=v.useContext(b.N).pageTitle,r=null===n||void 0===n?void 0:n.instance.daemonHealth.daemonStatus;return null===r||void 0===r||!r.required||null!==r&&void 0!==r&&r.healthy?null:(0,A.jsx)(d.b,{intent:"warning",title:"The queued run coordinator is not healthy.",description:(0,A.jsxs)("div",{children:["View ",(0,A.jsx)(m.rU,{to:"/health",children:e})," for details."]})})},S=(0,j.B)('\n  query QueueDaemonStatusQuery {\n    instance {\n      daemonHealth {\n        id\n        daemonStatus(daemonType: "QUEUED_RUN_COORDINATOR") {\n          id\n          daemonType\n          healthy\n          required\n        }\n      }\n    }\n  }\n')},50741:function(n,e,r){"use strict";r.d(e,{g:function(){return a},T:function(){return c}});var t=r(19065),o=r(32030),i=r(89646),u=r(34595),s=r(325),l=r(32289),a=function(n){var e=n.children,r=n.purpose,u=n.allowStaleData,a=void 0!==u&&u,d=n.renderError,f=n.queryResult,p=f.error,x=f.data,h=f.loading,g=s.useState(!0),v=(0,t.Z)(g,2),m=v[0],C=v[1],w=!x||h&&!a||0===Object.keys(x).length;if(s.useEffect((function(){var n;return w?n=setTimeout((function(){return C(!1)}),500):C(!0),function(){n&&clearTimeout(n)}}),[w]),p){if(d)return(0,l.jsx)(l.Fragment,{children:d(p)});if(!p.networkError)return(0,l.jsx)(o.x,{padding:64,flex:{justifyContent:"center"},children:(0,l.jsx)(i.t,{icon:"error",title:"GraphQL Error - see console for details"})})}return w?m?null:(0,l.jsx)(c,{purpose:r}):(0,l.jsx)(l.Fragment,{children:e(x)})},c=function(n){var e=n.purpose,r="page"===e;return(0,l.jsx)(o.x,{padding:64,flex:{grow:r?1:void 0,justifyContent:"center",alignItems:"center"},style:r?{height:"100%"}:void 0,children:(0,l.jsx)(u.$,{purpose:e})})};a.defaultProps={purpose:"page"}},62278:function(n,e,r){"use strict";r.d(e,{Y:function(){return i}});var t=r(922),o=r(7838),i=t.ZP.div.withConfig({displayName:"StickyTableContainer",componentId:"n96aw9-0"})(["thead tr{position:sticky;top:","px;background-color:",";z-index:1;}thead tr th{position:relative;}thead tr th::after{content:'';display:block;height:1px;background-color:",";position:absolute;bottom:-1px;left:0;right:0;}"],(function(n){return n.$top}),o.w.White,o.w.KeylineGray)},37286:function(n,e,r){"use strict";r.d(e,{f:function(){return c}});var t=r(95764),o=r(81034),i=r(922),u=r(31269),s=(r(325),r(74549)),l=r(32289),a=["to","title"],c=(0,i.ZP)((function(n){var e=n.to,r=n.title,i=(0,o.Z)(n,a),c=(0,u.xv)(n),d=(0,u.BY)(n),f="string"===typeof r?r:void 0;return(0,l.jsx)(s.rU,(0,t.Z)((0,t.Z)((0,t.Z)({to:e,title:f},c),i),{},{children:d}))})).withConfig({displayName:"TabLink",componentId:"sc-1rmmczd-0"})(["",""],u.gA)},60736:function(n,e,r){"use strict";r.d(e,{b:function(){return c}});var t=r(922),o=r(325),i=r(32030),u=r(7838),s=r(6466),l=r(24971),a=r(32289),c=function(n){var e=n.intent,r=n.title,t=n.description,c=n.onClose,h=o.useMemo((function(){switch(e){case"warning":return{backgroundColor:u.w.Yellow50,borderColor:u.w.Yellow500,icon:"warning",iconColor:u.w.Yellow500,textColor:u.w.Yellow700};case"error":return{backgroundColor:u.w.Red50,borderColor:u.w.Red500,icon:"error",iconColor:u.w.Red500,textColor:u.w.Red700};case"success":return{backgroundColor:u.w.Green50,borderColor:u.w.Green500,icon:"done",iconColor:u.w.Green500,textColor:u.w.Green700};default:return{backgroundColor:u.w.Blue50,borderColor:u.w.Blue500,icon:"info",iconColor:u.w.Blue500,textColor:u.w.Blue700}}}),[e]),g=h.backgroundColor,v=h.borderColor,m=h.icon,C=h.iconColor,w=h.textColor;return(0,a.jsx)(f,{background:g,$borderColor:v,$textColor:w,padding:{horizontal:16,vertical:12},children:(0,a.jsxs)(i.x,{flex:{direction:"row",justifyContent:"space-between"},children:[(0,a.jsxs)(s.Z,{direction:"row",spacing:12,alignItems:"flex-start",children:[n.icon||(0,a.jsx)(l.JO,{name:m,color:C}),(0,a.jsxs)(s.Z,{direction:"column",spacing:8,children:[(0,a.jsx)(p,{children:r}),t?(0,a.jsx)(x,{children:t}):null]})]}),c?(0,a.jsx)(d,{onClick:c,children:(0,a.jsx)(l.JO,{name:"close",color:w})}):null]})})};c.defaultProps={intent:"info"};var d=t.ZP.button.withConfig({displayName:"Alert__ButtonWrapper",componentId:"sc-8stlxo-0"})(["background:none;color:inherit;border:none;padding:0;font:inherit;cursor:pointer;flex-direction:column;height:fit-content;"]),f=(0,t.ZP)(i.x).withConfig({displayName:"Alert__AlertContainer",componentId:"sc-8stlxo-1"})(["box-shadow:inset 4px 0 ",";color:",";a:link,a:visited,a:hover,a:active{color:",";text-decoration:underline;}"],(function(n){return n.$borderColor}),(function(n){return n.$textColor}),(function(n){return n.$textColor})),p=t.ZP.div.withConfig({displayName:"Alert__AlertTitle",componentId:"sc-8stlxo-2"})(["font-weight:600;"]),x=t.ZP.div.withConfig({displayName:"Alert__AlertDescription",componentId:"sc-8stlxo-3"})(["font-weight:400;"])},30804:function(n,e,r){"use strict";r.d(e,{T:function(){return t}});var t=r(922).ZP.div.withConfig({displayName:"Page",componentId:"sc-1qh2hrd-0"})(["height:100%;overflow-y:auto;padding-bottom:64px;width:100%;"])},56277:function(n){n.exports=function(n,e,r,t){for(var o=-1,i=null==n?0:n.length;++o<i;){var u=n[o];e(t,u,r(u),n)}return t}},414:function(n,e,r){var t=r(99383);n.exports=function(n,e,r,o){return t(n,(function(n,t,i){e(o,n,r(n),i)})),o}},53004:function(n,e,r){var t=r(56277),o=r(414),i=r(57777),u=r(18981);n.exports=function(n,e){return function(r,s){var l=u(r)?t:o,a=e?e():{};return l(r,n,i(s,2),a)}}},90428:function(n,e,r){var t=r(42473);n.exports=function(n,e){return t(n,e)}},69346:function(n,e,r){var t=r(53004)((function(n,e,r){n[r?0:1].push(e)}),(function(){return[[],[]]}));n.exports=t}}]);
//# sourceMappingURL=924.8e7b5251.chunk.js.map