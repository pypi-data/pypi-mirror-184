"use strict";(self.webpackChunk_dagster_io_dagit_app=self.webpackChunk_dagster_io_dagit_app||[]).push([[610],{87535:function(n,e,t){t.d(e,{CY:function(){return S},N9:function(){return j}});var r=t(19065),o=t(73701),i=t(325),s=t(27601),a=t(78093),l=t(13253),p=t(77171),d=t(96560),u=t(82348),h=t(50741),c=t(76336),x=t(27218),f=t(2112),m=t(57872),v=t(96294),g=t(32289),S=function(){(0,a.Px)();var n=(0,s.UO)(),e=(0,v.p3)(n[0]),t=e.pipelineName,r=e.snapshotId,o=(0,s.k6)();return(0,u.j)("Snapshot: ".concat(t).concat(r?"@".concat(r.slice(0,8)):"")),(0,g.jsx)(j,{explorerPath:e,onChangeExplorerPath:function(n,e){o[e]("/snapshots/".concat((0,v.gY)(n)))},onNavigateToSourceAssetNode:function(n){var e=n.assetKey;o.push((0,p.p)(e))}})},j=function(n){var e,t=n.explorerPath,s=n.repoAddress,a=n.onChangeExplorerPath,p=n.onNavigateToSourceAssetNode,d=n.isGraph,u=void 0!==d&&d,v=i.useState({explodeComposites:null!==(e=t.explodeComposites)&&void 0!==e&&e,preferAssetRendering:!0}),S=(0,r.Z)(v,2),j=S[0],P=S[1],y=t.opNames.slice(0,t.opNames.length-1),E=(0,c._T)(s||null,t.pipelineName),R=(0,o.a)(I,{variables:{snapshotPipelineSelector:t.snapshotId?void 0:E,snapshotId:t.snapshotId?t.snapshotId:void 0,rootHandleID:y.join("."),requestScopeHandleID:j.explodeComposites?void 0:y.join(".")}});return(0,g.jsx)(h.g,{queryResult:R,children:function(n){var e=n.pipelineSnapshotOrError;if("PipelineSnapshot"!==e.__typename)return(0,g.jsx)(m.Q,{isGraph:u,result:e,repoAddress:s});var r=e.solidHandle,o=j.explodeComposites?(0,x.i)(e.solidHandles):e.solidHandles,i=e.solidHandles.some((function(n){return n.solid.definition.assetNodes.length>0}));return j.preferAssetRendering&&i?(0,g.jsx)(l.OK,{options:j,setOptions:P,fetchOptions:{pipelineSelector:E},explorerPath:t,onChangeExplorerPath:a,onNavigateToSourceAssetNode:p}):(0,g.jsx)(f.m0,{options:j,setOptions:P,explorerPath:t,onChangeExplorerPath:a,container:e,repoAddress:s,handles:o,parentHandle:r||void 0,isGraph:u,getInvocations:function(n){return o.filter((function(e){return e.solid.definition.name===n})).map((function(n){return{handleID:n.handleID}}))}})}})},I=(0,d.B)("\n  query PipelineExplorerRootQuery(\n    $snapshotPipelineSelector: PipelineSelector\n    $snapshotId: String\n    $rootHandleID: String!\n    $requestScopeHandleID: String\n  ) {\n    pipelineSnapshotOrError(\n      snapshotId: $snapshotId\n      activePipelineSelector: $snapshotPipelineSelector\n    ) {\n      ... on PipelineSnapshot {\n        id\n        name\n        metadataEntries {\n          ...MetadataEntryFragment\n        }\n        ...GraphExplorerFragment\n\n        solidHandle(handleID: $rootHandleID) {\n          ...GraphExplorerSolidHandleFragment\n        }\n        solidHandles(parentHandleID: $requestScopeHandleID) {\n          handleID\n          solid {\n            name\n            definition {\n              assetNodes {\n                id\n                ...GraphExplorerAssetNodeFragment\n              }\n            }\n          }\n          ...GraphExplorerSolidHandleFragment\n        }\n      }\n      ... on PipelineNotFoundError {\n        message\n      }\n      ... on PipelineSnapshotNotFoundError {\n        message\n      }\n      ...PythonErrorFragment\n    }\n  }\n")},33247:function(n,e,t){t.d(e,{G:function(){return _}});var r=t(95764),o=t(59019),i=t(19065),s=t(57615),a=t(30804),l=t(32030),p=t(89646),d=t(54268),u=t(47387),h=t(325),c=t(27601),x=t(19102),f=t(78093),m=t(96560),v=t(22797),g=t(28064),S=t(55752),j=t(45302),I=t(77892),P=t(50741),y=t(62278),E=t(76336),R=t(33902),C=t(96294),b=t(23196),N=t(32289),H=["status","tag"],_=function(n){(0,f.Px)();var e=(0,c.UO)().pipelinePath,t=n.repoAddress,m=void 0===t?null:t,_=(0,C.p3)(e),$=_.pipelineName,k=_.snapshotId,F=(0,E.Ux)(m),A=(0,E.E8)(F,$);(0,b.b)(_,A);var D=(0,j.oD)(H),T=(0,i.Z)(D,2),w=T[0],Z=T[1],q=h.useMemo((function(){return[A?{token:"job",value:$}:{token:"pipeline",value:$},k?{token:"snapshotId",value:k}:null].filter(Boolean)}),[A,$,k]),G=[].concat((0,o.Z)(w),(0,o.Z)(q));if(m){var Y={token:"tag",value:"".concat(g.H.RepositoryLabelTag,"=").concat((0,R.Wg)(m))};G.push(Y)}var Q=(0,I.l)({query:O,pageSize:25,variables:{filter:(0,r.Z)((0,r.Z)({},(0,j.VH)(G)),{},{pipelineName:$,snapshotId:k})},nextCursorForResult:function(n){var e;if("Runs"===n.pipelineRunsOrError.__typename)return null===(e=n.pipelineRunsOrError.results[24])||void 0===e?void 0:e.runId},getResultArray:function(n){return n&&"Runs"===n.pipelineRunsOrError.__typename?n.pipelineRunsOrError.results:[]}}),V=Q.queryResult,B=Q.paginationProps,U=h.useCallback((function(n){var e=(0,s.HY)(n);w.some((function(n){return(0,s.HY)(n)===e}))||Z([].concat((0,o.Z)(w),[n]))}),[w,Z]),W=(0,x.C4)(V,x.dT);return(0,N.jsx)(S.Lw.Provider,{value:{refetch:V.refetch},children:(0,N.jsx)(a.T,{children:(0,N.jsx)(P.g,{queryResult:V,allowStaleData:!0,children:function(n){var e=n.pipelineRunsOrError;if("Runs"!==e.__typename)return(0,N.jsx)(l.x,{padding:{vertical:64},children:(0,N.jsx)(p.t,{icon:"error",title:"Query Error",description:e.message})});var t=e.results.slice(0,25),o=B.hasNextCursor,i=B.hasPrevCursor;return(0,N.jsxs)(N.Fragment,{children:[(0,N.jsxs)(l.x,{flex:{alignItems:"flex-start",justifyContent:"space-between"},padding:{top:8,horizontal:24},children:[(0,N.jsx)(l.x,{flex:{direction:"row",gap:8},children:q.map((function(n){var e=n.token,t=n.value;return(0,N.jsx)(d.V,{children:"".concat(e,":").concat(t)},e)}))}),(0,N.jsx)(x.xi,{refreshState:W})]}),(0,N.jsx)(y.Y,{$top:0,children:(0,N.jsx)(v.A,{runs:t,onAddTag:U,actionBarComponents:(0,N.jsx)(j.nr,{enabledFilters:H,tokens:w,onChange:Z,loading:V.loading})})}),o||i?(0,N.jsx)("div",{style:{marginTop:"20px"},children:(0,N.jsx)(u.pI,(0,r.Z)({},B))}):null]})}})})})},O=(0,m.B)("\n  query PipelineRunsRootQuery($limit: Int, $cursor: String, $filter: RunsFilter!) {\n    pipelineRunsOrError(limit: $limit, cursor: $cursor, filter: $filter) {\n      ... on Runs {\n        results {\n          id\n          ...RunTableRunFragment\n        }\n      }\n      ... on InvalidPipelineRunsFilterError {\n        message\n      }\n      ...PythonErrorFragment\n    }\n  }\n")},43938:function(n,e,t){t.r(e),t.d(e,{SnapshotRoot:function(){return P},default:function(){return y}});t(325);var r=t(27601),o=t(87535),i=t(96294),s=t(33247),a=t(95764),l=t(73701),p=t(54268),d=t(31112),u=t(12745),h=t(8546),c=t(31269),x=t(74549),f=t(96560),m=t(37286),v=t(76336),g=t(25582),S=t(32289),j=(0,f.B)("\n  query SnapshotQuery($snapshotId: String!) {\n    pipelineSnapshotOrError(snapshotId: $snapshotId) {\n      ... on PipelineSnapshot {\n        id\n        parentSnapshotId\n      }\n    }\n  }\n"),I=function(n){var e,t=n.activeTab,r=void 0===t?"":t,o=n.explorerPath,s=o.pipelineName,f=o.snapshotId,I=void 0===f?"":f,P=(0,i.gY)((0,a.Z)((0,a.Z)({},o),{},{opNames:[]})),y=(0,v.Nc)(s),E=!(null===y||void 0===y||!y.isJob),R=null===y||void 0===y?void 0:y.pipelineSnapshotId,C=(0,l.a)(j,{variables:{snapshotId:I}}),b=C.data,N=C.loading,H=[{text:"Definition",pathComponent:"",href:"/snapshots/".concat(P)},{text:"Runs",pathComponent:"runs",href:"/snapshots/".concat(P,"runs")}];return(0,S.jsx)(d.m,{title:(0,S.jsx)(u.X6,{style:{fontFamily:h.b.monospace,fontSize:"20px"},children:null===(e=o.snapshotId)||void 0===e?void 0:e.slice(0,8)}),tags:(0,S.jsxs)(S.Fragment,{children:[(0,S.jsxs)(p.V,{icon:"schema",children:["Snapshot of"," ",(0,S.jsx)(x.rU,{to:(0,g.r4)(o.pipelineName,E),children:o.pipelineName})]}),function(){var n;return N?(0,S.jsx)(p.V,{intent:"none",minimal:!0,children:"..."}):!R||R!==I&&"PipelineSnapshot"===(null===b||void 0===b?void 0:b.pipelineSnapshotOrError.__typename)&&(null===b||void 0===b||null===(n=b.pipelineSnapshotOrError)||void 0===n?void 0:n.parentSnapshotId)!==R?(0,S.jsx)(p.V,{intent:"warning",minimal:!0,children:"Snapshot"}):(0,S.jsx)(p.V,{intent:"success",minimal:!0,children:"Current"})}()]}),tabs:(0,S.jsx)(c.mQ,{selectedTabId:r,children:H.map((function(n){var e=n.href,t=n.text,r=n.pathComponent;return(0,S.jsx)(m.f,{id:r,title:t,to:e},t)}))})})},P=function(){var n=(0,r.UO)(),e=n.pipelinePath,t=n.tab,a=(0,i.p3)(e);return(0,S.jsxs)("div",{style:{display:"flex",flexDirection:"column",minWidth:0,width:"100%",height:"100%"},children:[(0,S.jsx)(I,{activeTab:t,explorerPath:a}),(0,S.jsxs)(r.rs,{children:[(0,S.jsx)(r.AW,{path:"/snapshots/:pipelinePath/runs",children:(0,S.jsx)(s.G,{})}),(0,S.jsx)(r.AW,{path:"/snapshots/(/?.*)",children:(0,S.jsx)(o.CY,{})})]})]})},y=P},62278:function(n,e,t){t.d(e,{Y:function(){return i}});var r=t(922),o=t(7838),i=r.ZP.div.withConfig({displayName:"StickyTableContainer",componentId:"n96aw9-0"})(["thead tr{position:sticky;top:","px;background-color:",";z-index:1;}thead tr th{position:relative;}thead tr th::after{content:'';display:block;height:1px;background-color:",";position:absolute;bottom:-1px;left:0;right:0;}"],(function(n){return n.$top}),o.w.White,o.w.KeylineGray)}}]);
//# sourceMappingURL=610.829cb848.chunk.js.map