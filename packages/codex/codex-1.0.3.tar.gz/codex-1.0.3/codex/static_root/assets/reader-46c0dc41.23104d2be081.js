import{c as h,o as c,e as f,w as i,j as _,t as k,z as C,bN as p,b,g as a,f as B,a as S,bO as T,al as R,C as w,d as m,bP as Se,bQ as ye,i as l,D as v,az as D,be as Q,bR as Ce,bS as $e,bT as Te,bU as Be,r as F,bV as ee,F as $,bW as te,aX as O,aR as Re,bX as Ie,L as De,B as xe,I as Ve,J as I,ap as N,ao as q,aq as Le,ar as Ee,bY as Ae,bZ as Oe,b_ as Ne,bJ as Fe,b$ as Ue,bL as qe,l as G,n as M,M as oe,c0 as Ge,S as ae,c1 as Me,bw as We,c2 as Ke,c3 as ze,c4 as W,a7 as je,bj as He,b6 as Ye,c5 as Xe,by as Je,c6 as Ze,bz as Qe,c7 as et,bA as tt,aw as ot,c8 as at,c9 as st,ca as nt,cb as rt,p as it,q as lt,V as K,bd as se,A as z,bc as ct,cc as ut,b7 as j,ba as H,cd as dt}from"./admin-6461b393.js";import{_ as ne,a as re,b as ie,P as le,c as ce}from"./metadata-dialog-02bf29bb.js";const pt={name:"ReaderNavButton",components:{PaginationNavButton:ne},props:{value:{type:Number,required:!0},twoPages:{type:Boolean,default:!1}},computed:{toRoute(){return{params:{...this.$route.params,page:this.value}}},title(){return"to page "+this.value},disabled(){return this.value===+this.$route.params.page||this.twoPages&&this.value%2&&this.value-1===+this.$route.params.page}}};function gt(e,t,s,u,n,o){const r=ne;return c(),f(r,{disabled:o.disabled,title:o.title,to:o.toRoute},{default:i(()=>[_(k(s.value),1)]),_:1},8,["disabled","title","to"])}const ue=h(pt,[["render",gt]]),_t={name:"ReaderNavToolbar",components:{PaginationSlider:re,ReaderNavButton:ue,PaginationToolbar:ie},computed:{...C(p,["activeSettings","activeBook"]),key(){return`${this.$route.params.pk} - ${this.twoPages}`},maxPage(){return this.activeBook?this.activeBook.maxPage:0},twoPages(){return this.activeSettings.twoPages},step(){return this.activeSettings.twoPages?2:1},trackColor(){return this.twoPages&&+this.$route.params.page>=this.maxPage-1?this.$vuetify.theme.current.colors.primary:""}},methods:{...b(p,["routeToPage"])}};function mt(e,t,s,u,n,o){const r=ue,d=re,g=ie;return o.maxPage?(c(),f(g,{key:0},{default:i(()=>[a(r,{value:0}),(c(),f(d,{key:o.key,"model-value":+e.$route.params.page,min:0,max:o.maxPage,step:o.step,"track-color":o.trackColor,"onUpdate:modelValue":t[0]||(t[0]=y=>e.routeToPage(y))},null,8,["model-value","max","step","track-color"])),a(r,{value:o.maxPage,"two-pages":o.twoPages},null,8,["value","two-pages"])]),_:1})):B("",!0)}const de=h(_t,[["render",mt]]),ht={rel:"prefetch",as:"image"},pe=function(e){const t=[];for(const s of e)s&&t.push({...ht,href:s});return{link:t}};const ft={name:"PageChangeLink",props:{direction:{type:String,required:!0}},head(){return pe([this.prefetchSrc1,this.prefetchSrc2])},computed:{...S(p,{params(e){return e.routes[this.direction]},prefetchSrc2(e){const t=e.books.get(this.params.pk);if(!t)return!1;const s=t.settings||{};if(!this.getSettings(e.readerSettings,s).twoPages)return!1;const n={...this.params,page:this.params.page+1};return n.page>t.maxPage?!1:T(n)}}),prefetchSrc1(){return this.params?T(this.params):!1},route(){return this.params?{params:this.params}:{}},label(){return`${this.direction==="prev"?"Previous":"Next"} Page`}},methods:{...b(p,["getSettings"])}};function kt(e,t,s,u,n,o){const r=w("router-link");return c(),f(r,{class:R(["pageChangeColumn",{[s.direction]:!0}]),to:o.route,"aria-label":o.label,onClick:t[0]||(t[0]=d=>d.stopImmediatePropagation())},null,8,["to","aria-label","class"])}const ge=h(ft,[["render",kt],["__scopeId","data-v-aa4efc86"]]);const bt={name:"LoadingPage",components:{Placeholder:le},props:{twoPages:{type:Boolean,required:!0}}};function vt(e,t,s,u,n,o){const r=w("Placeholder");return c(),m("div",{class:R(["pageLoading",{twoPages:s.twoPages}])},[a(r,{class:"pagePlaceholder"})],2)}const Pt=h(bt,[["render",vt],["__scopeId","data-v-2bc79db9"]]);const Y="unauthorized",wt={name:"ErrorPage",props:{twoPages:{type:Boolean,required:!0},type:{type:String,required:!0}},computed:{text(){return this.type===Y?"Protected page":"Failed to load page"},icon(){return this.type===Y?Se:ye}}},St={class:"pageErrorContainer"},yt={class:"pageErrorText"};function Ct(e,t,s,u,n,o){return c(),m("div",{class:R(["pageError",{twoPages:s.twoPages}])},[l("div",St,[l("div",yt,k(o.text),1),a(v,{class:"pageErrorIcon"},{default:i(()=>[_(k(o.icon),1)]),_:1})])],2)}const $t=h(wt,[["render",Ct],["__scopeId","data-v-afc58246"]]);const Tt={name:"ImgPage",props:{pk:{type:Number,required:!0},src:{type:String,required:!0},settings:{type:Object,required:!0},fitToClass:{type:Object,required:!0}},emits:["load","error"]},Bt=["src"];function Rt(e,t,s,u,n,o){return c(),m("img",D({class:s.fitToClass,src:s.src},e.$attrs),null,16,Bt)}const It=h(Tt,[["render",Rt],["__scopeId","data-v-390f08d7"]]);const Dt=Q(Ce(()=>Te(()=>import("./page-pdf-31dde5b3.js"),["assets/page-pdf-31dde5b3.js","assets/admin-6461b393.js","assets/admin-06fffdab.css","assets/page-pdf-da2d2f8b.css"]))),xt=333,Vt={name:"BookPage",components:{Placeholder:le,ErrorPage:$t,LoadingPage:Pt},props:{book:{type:Object,required:!0},page:{type:Number,required:!0},settings:{type:Object,required:!0},fitToClass:{type:Object,required:!0}},data(){return{showProgress:!1,loaded:!1,error:!1}},computed:{src(){const e={pk:this.book.pk,page:this.page};return T(e)},component(){return this.book.fileFormat==="pdf"?Dt:It}},mounted(){setTimeout(function(){this.loaded||(this.loading=!0)},xt)},methods:{onLoad(){this.showProgress=!1,this.loaded=!0,this.error=!1},onError(){this.error="load",this.showProgress=!1},onUnauthorized(){this.error="unauthorized",this.showProgress=!1}}},Lt={class:"page"};function Et(e,t,s,u,n,o){const r=w("ErrorPage"),d=w("LoadingPage");return c(),m("div",Lt,[n.error?(c(),f(r,{key:0,"two-pages":s.settings.twoPages,type:n.error},null,8,["two-pages","type"])):n.showProgress&&!n.loaded?(c(),f(d,{key:1,"two-pages":s.settings.twoPages},null,8,["two-pages"])):(c(),f($e(o.component),{key:2,pk:s.book.pk,src:o.src,settings:s.settings,"fit-to-class":s.fitToClass,onError:o.onError,onLoad:o.onLoad,onUnauthorized:o.onUnauthorized},null,40,["pk","src","settings","fit-to-class","onError","onLoad","onUnauthorized"]))])}const At=h(Vt,[["render",Et],["__scopeId","data-v-887e7676"]]),Ot={name:"PagesWindow",components:{BookPage:At,PageChangeLink:ge},props:{book:{type:Object,required:!0}},emits:["click"],data(){return{activePage:void 0}},computed:{...S(p,{bookRoutes:e=>e.routes.books,settings(e){const t=e.books.get(this.book.pk),s=t?t.settings:{};return e.getSettings(e.readerSettings,s)},prevBookPk:e=>{var t;return(t=e.routes.books)==null?void 0:t.prev.pk},twoPages:e=>e.activeSettings.twoPages}),fitToClass(){return this.getFitToClass(this.settings)},pages(){var s;const e=((s=this.book)==null?void 0:s.maxPage)+1,t=this.settings.twoPages?2:1;return Be.range(0,e,t)},secondPage(){return this.settings.twoPages&&+this.activePage+1<=this.book.maxPage}},watch:{$route(e){+e.params.pk===this.book.pk&&this.setActivePageForRoute(+e.params.page)},twoPages(){this.setActivePageForRoute(+this.$route.params.page)}},created(){let e;this.book.pk===+this.$route.params.pk?e=+this.$route.params.page:this.book.pk===this.prevBookPk?e=this.book.maxPage:e=0,this.activePage=e},methods:{...b(p,["routeToPage","setRoutesAndBookmarkPage","setRoutes","getSettings","getFitToClass"]),setActivePageForRoute(e){if(e<0)return console.warn("Page out of bounds. Redirecting to 0."),this.routeToPage(0);if(e>this.book.maxPage)return console.warn(`Page out of bounds. Redirecting to ${this.book.maxPage}.`),this.routeToPage(this.book.maxPage);if(this.settings.twoPages&&e%2!==0)return console.debug(`Requested odd page ${e} in two pages mode. Flip back one`),this.routeToPage(e-1);this.activePage=e,this.setRoutesAndBookmarkPage(+this.$route.params.page),window.scrollTo(0,0)}}};function Nt(e,t,s,u,n,o){const r=ge,d=w("BookPage");return c(),f(te,{"show-arrows":"","model-value":n.activePage},{prev:i(()=>[a(r,{direction:"prev"})]),next:i(()=>[a(r,{direction:"next"})]),default:i(()=>[(c(!0),m($,null,F(o.pages,g=>(c(),f(ee,{key:`c/${s.book.pk}/${g}`,class:"windowItem",disabled:"",eager:g>=n.activePage-1&&g<=n.activePage+2,"model-value":g,transition:!0},{default:i(()=>[a(d,{book:s.book,settings:e.settings,"fit-to-class":o.fitToClass,page:g},null,8,["book","settings","fit-to-class","page"]),o.secondPage?(c(),f(d,{key:0,book:s.book,settings:e.settings,"fit-to-class":o.fitToClass,page:g+1},null,8,["book","settings","fit-to-class","page"])):B("",!0)]),_:2},1032,["eager","model-value"]))),128))]),_:1},8,["model-value"])}const _e=h(Ot,[["render",Nt]]);const Ft={name:"BookChangeActivator",props:{direction:{type:String,required:!0}},computed:{...C(p,["prevBookChangeShow","nextBookChangeShow"]),show(){return this[this.direction+"BookChangeShow"]}},methods:{...b(p,["setBookChangeFlag"])}};function Ut(e,t,s,u,n,o){return o.show?(c(),m("div",{key:0,class:R(["bookChangeColumn",{[s.direction]:!0}]),onClick:t[0]||(t[0]=O(r=>e.setBookChangeFlag(s.direction),["stop"]))},null,2)):B("",!0)}const me=h(Ft,[["render",Ut],["__scopeId","data-v-46fb01d6"]]);const qt={name:"BooksWindow",components:{BookChangeActivator:me},emits:["click"],computed:{...S(p,{books:e=>e.books,bookChange:e=>e.bookChange,activeBookPk:e=>e.pk,bookRoutes:e=>e.routes.books})},watch:{$route(e,t){(!t||!t.params||+e.params.pk!=+t.params.pk)&&this.loadBooks(e.params)}},beforeMount(){this.setBookChangeFlag()},created(){this.loadBooks(this.$route.params)},methods:{...b(p,["setBookChangeFlag","loadBooks"]),click(){this.setBookChangeFlag(),this.$emit("click")},eager(e){return this.bookChange&&this.bookRoutes[this.bookChange]&&this.bookRoutes[this.bookChange].pk===e}}};function Gt(e,t,s,u,n,o){const r=me,d=_e;return c(),f(te,{id:"booksWindow",direction:"vertical","model-value":e.activeBookPk,"show-arrows":"",onClick:o.click},{prev:i(()=>[a(r,{direction:"prev"})]),next:i(()=>[a(r,{direction:"next"})]),default:i(()=>[(c(!0),m($,null,F(e.books,([g,y])=>(c(),f(ee,{key:`c/${g}`,class:"windowItem",disabled:"",eager:o.eager(g),value:g,transition:!0},{default:i(()=>[a(d,{book:y,onClick:o.click},null,8,["book","onClick"])]),_:2},1032,["eager","value"]))),128))]),_:1},8,["model-value","onClick"])}const Mt=h(qt,[["render",Gt],["__scopeId","data-v-3f011624"]]);const X="prev",J="next",Wt={name:"ReaderTitleToolbar",components:{MetadataDialog:ce,SettingsDrawerButton:Re},data(){return{mdiClose:Ie,routeChanged:!1}},head(){const e=this.$route.params.page;return{meta:[{hid:"description",name:"description",content:`reader ${this.activeTitle} page ${e}`}]}},computed:{...C(p,["activeTitle","activeBook"]),...S(p,{seriesPosition:function(e){return this.activeBook&&e.seriesCount>1?`${this.activeBook.seriesIndex}/${e.seriesCount}`:""}}),...S(De,{lastRoute:e=>e.page.routes.last}),...xe(I,["isSettingsDrawerOpen"]),closeBookRoute:function(){const e={name:"browser",params:this.lastRoute};return e.params?e.hash=`#card-${this.$route.params.pk}`:e.params=window.CODEX.LAST_ROUTE||Ve.browser.route,e}},watch:{$route(e,t){t&&(this.routeChanged=!0)}},mounted(){document.addEventListener("keyup",this._keyListener)},unmounted:function(){document.removeEventListener("keyup",this._keyListener)},methods:{...b(I,["setTimestamp"]),...b(p,["routeToDirection"]),openMetadata(){this.$refs.metadataDialog.dialog=!0},onCloseBook(){this.routeChanged&&this.setTimestamp()},_keyListener(e){switch(e.stopPropagation(),e.key){case" ":!e.shiftKey&&window.innerHeight+window.scrollY+1>=document.body.scrollHeight?this.routeToDirection(J):e.shiftKey&&window.scrollY===0&&this.routeToDirection(X);break;case"j":case"ArrowRight":this.routeToDirection(J);break;case"k":case"ArrowLeft":this.routeToDirection(X);break;case"Escape":this.$refs.closeBook.$el.click();break;case"m":this.openMetadata();break}}}},Kt={key:0},zt={key:0,id:"seriesPosition",title:"Series Position"};function jt(e,t,s,u,n,o){const r=ce,d=w("SettingsDrawerButton");return c(),f(Ee,{id:"readerTopToolbar",class:"codexToolbar",density:"compact"},{default:i(()=>[a(q,null,{default:i(()=>[a(N,{id:"closeBook",ref:"closeBook",to:o.closeBookRoute,size:"large",onClick:o.onCloseBook},{default:i(()=>[e.$vuetify.display.smAndDown?(c(),f(v,{key:1,title:"Close Book"},{default:i(()=>[_(k(n.mdiClose),1)]),_:1})):(c(),m("span",Kt,"close book"))]),_:1},8,["to","onClick"])]),_:1}),a(Le,{id:"toolbarTitle",class:"codexToolbarTitle"},{default:i(()=>[_(k(e.activeTitle),1)]),_:1}),e.seriesPosition?(c(),m("span",zt,k(e.seriesPosition),1)):B("",!0),a(q,null,{default:i(()=>[a(N,{id:"tagButton",onClick:O(o.openMetadata,["stop"])},{default:i(()=>[a(r,{ref:"metadataDialog",group:"c",pk:Number(e.$route.params.pk)},null,8,["pk"])]),_:1},8,["onClick"]),a(d,{id:"settingsButton",onClick:t[0]||(t[0]=O(g=>e.isSettingsDrawerOpen=!0,["stop"]))})]),_:1})]),_:1})}const he=h(Wt,[["render",jt],["__scopeId","data-v-a3935203"]]);const Ht={name:"BookChangeDrawer",props:{direction:{type:String,required:!0}},head(){return pe([this.prefetchSrc1,this.prefetchSrc2])},computed:{...C(p,["prevBookChangeShow","nextBookChangeShow"]),...S(p,{prefetchSrc2(e){const t=e.books.get(this.params.pk),s=t?t.settings||{}:{},u=this.getSettings(e.readerSettings,s);if(!this.isDrawerOpen||!this.params||!u.twoPages)return!1;const n={pk:this.params.pk,page:this.params.page+1};return T(n)},isDrawerOpen(e){return e.bookChange===this.direction},params(e){return e.routes.books[this.direction]},icon(){return this.direction==="next"?Ae:Oe}}),show(){return this[this.direction+"BookChangeShow"]},prefetchSrc1(){return!this.isDrawerOpen||!this.params?!1:T(this.params)},route(){return this.params?{params:this.params}:{}},label(){return`${this.direction==="prev"?"Previous":"Next"} Book`}},methods:{...b(p,["getSettings"])}};function Yt(e,t,s,u,n,o){const r=w("router-link");return o.show?(c(),f(Ne,{key:0,class:R({bookChangeDrawer:!0,[s.direction]:!0}),"disable-resize-watcher":"","disable-route-watcher":"",location:s.direction==="prev"?"left":"right","model-value":e.isDrawerOpen,scrim:!1,temporary:"",touchless:""},{default:i(()=>[a(r,{class:"navLink",to:o.route,"aria-label":o.label,title:o.label,onClick:t[0]||(t[0]=d=>d.stopImmediatePropagation())},{default:i(()=>[a(v,{class:"bookChangeIcon"},{default:i(()=>[_(k(e.icon),1)]),_:1})]),_:1},8,["to","aria-label","title"])]),_:1},8,["class","location","model-value"])):B("",!0)}const fe=h(Ht,[["render",Yt],["__scopeId","data-v-2d084a57"]]),Xt={name:"DownloadPanel",data(){return{mdiDownload:Fe,mdiFileImage:Ue}},computed:{...C(p,["activeTitle"]),pageSrc:function(){return T(this.$route.params)},downloadURL:function(){return qe(this.$route.params.pk)},fileName:function(){return this.activeTitle+".cbz"},pageName:function(){const e=this.$route.params.page;return`${this.activeTitle} - page ${e}.jpg`}},methods:{...b(I,["downloadIOSPWAFix"]),downloadPage(){this.downloadIOSPWAFix(this.pageSrc,this.pageName)},downloadBook(){this.downloadIOSPWAFix(this.downloadURL,this.fileName)}}};function Jt(e,t,s,u,n,o){return c(),m($,null,[a(M,{onClick:o.downloadPage},{default:i(()=>[a(G,null,{default:i(()=>[a(v,null,{default:i(()=>[_(k(n.mdiFileImage),1)]),_:1}),_(" Download Page "+k(e.$route.params.page),1)]),_:1})]),_:1},8,["onClick"]),a(M,{onClick:o.downloadBook},{default:i(()=>[a(G,null,{default:i(()=>[a(v,null,{default:i(()=>[_(k(n.mdiDownload),1)]),_:1}),_(" Download Book ")]),_:1})]),_:1},8,["onClick"])],64)}const ke=h(Xt,[["render",Jt]]);const A=oe({name:"VRadio",props:{...Ge({falseIcon:"$radioOff",trueIcon:"$radioOn"})},setup(e,t){let{slots:s}=t;return ae(()=>a(Me,D(e,{class:"v-radio",type:"radio"}),s)),{}}});const Z=oe({name:"VRadioGroup",inheritAttrs:!1,props:{height:{type:[Number,String],default:"auto"},...We(),...Ke(ze(),["multiple"]),trueIcon:{type:W,default:"$radioOn"},falseIcon:{type:W,default:"$radioOff"},type:{type:String,default:"radio"}},emits:{"update:modelValue":e=>!0},setup(e,t){let{attrs:s,slots:u}=t;const n=je(),o=He(()=>e.id||`radio-group-${n}`),r=Ye(e,"modelValue");return ae(()=>{const[d,g]=Xe(s),[y,U]=Je(e),[x,Co]=Ze({...e,multiple:!1}),V=u.label?u.label({label:e.label,props:{for:o.value}}):e.label;return a(tt,D({class:"v-radio-group"},d,y,{modelValue:r.value,"onUpdate:modelValue":L=>r.value=L,id:o.value}),{...u,default:L=>{let{id:E,isDisabled:ve,isReadonly:Pe}=L;return a($,null,[V&&a(Qe,{id:E.value},{default:()=>[V]}),a(et,D(x,{id:E.value,defaultsTarget:"VRadio",trueIcon:e.trueIcon,falseIcon:e.falseIcon,type:e.type,disabled:ve.value,readonly:Pe.value,"aria-labelledby":V?E.value:void 0},g,{modelValue:r.value,"onUpdate:modelValue":we=>r.value=we}),u)])}})}),{}}}),Zt=["fitTo","twoPages"],Qt={name:"ReaderSettingsPanel",data(){return{isGlobalScope:!1}},computed:{...S(p,{fitToChoices(e){const t=[];for(const s of e.choices.fitTo)s.value&&t.push(s);return t},selectedSettings:function(e){return this.isGlobalScope||!e.activeBook?e.readerSettings:e.activeBook.settings},isClearSettingsButtonDisabled:function(e){if(this.isGlobalScope||!e.activeBook)return!0;for(const t of Zt){const s=e.activeBook.settings[t];if(!e.choices.nullValues.has(s))return!1}return!0}})},mounted(){document.addEventListener("keyup",this._keyListener)},unmounted:function(){document.removeEventListener("keyup",this._keyListener)},methods:{...b(p,["clearSettingsLocal","setSettingsGlobal","setSettingsLocal"]),settingsDialogChanged:function(e){this.isGlobalScope?this.setSettingsGlobal(this.$route.params,e):this.setSettingsLocal(this.$route.params,e)},_keyListener:function(e){e.stopPropagation();let t;switch(e.key){case"w":t={fitTo:"WIDTH"};break;case"h":t={fitTo:"HEIGHT"};break;case"s":t={fitTo:"SCREEN"};break;case"o":t={fitTo:"ORIG"};break;case"2":t={twoPages:!this.selectedSettings.twoPages};break}t&&this.setSettingsLocal(this.$route.params,t)}}},eo={id:"readerSettings"};function to(e,t,s,u,n,o){return c(),m("div",eo,[a(Z,{modelValue:n.isGlobalScope,"onUpdate:modelValue":t[0]||(t[0]=r=>n.isGlobalScope=r),density:"compact",label:"Scope"},{default:i(()=>[a(A,{label:"Only this comic",value:!1}),a(A,{label:"Default for all comics",value:!0})]),_:1},8,["modelValue"]),a(Z,{class:"displayRadioGroup",density:"compact",label:"Display","model-value":e.selectedSettings.fitTo,"onUpdate:modelValue":t[1]||(t[1]=r=>o.settingsDialogChanged({fitTo:r}))},{default:i(()=>[(c(!0),m($,null,F(e.fitToChoices,r=>(c(),f(A,{key:r.value,label:r.title,value:r.value},null,8,["label","value"]))),128))]),_:1},8,["model-value"]),a(ot,{class:"displayTwoPages",density:"compact",label:"Two pages","model-value":e.selectedSettings.twoPages,"true-value":!0,indeterminate:e.selectedSettings.twoPages===null||e.selectedSettings.twoPages===void 0,"onUpdate:modelValue":t[2]||(t[2]=r=>o.settingsDialogChanged({twoPages:r}))},null,8,["model-value","indeterminate"]),a(N,{id:"clearSettingsButton",class:R({invisible:n.isGlobalScope}),disabled:e.isClearSettingsButtonDisabled,title:"Use the default settings for all comics for this comic",onClick:t[3]||(t[3]=r=>e.clearSettingsLocal(e.$route.params))},{default:i(()=>[_(" Clear Comic Settings ")]),_:1},8,["class","disabled"])])}const be=h(Qt,[["render",to],["__scopeId","data-v-eba773e3"]]);const oo={name:"KeyboardShortcutsPanel",data(){return{mdiMenuLeft:at,mdiMenuRight:st,mdiKeyboardSpace:nt,mdiAppleKeyboardShift:rt}},computed:{...C(I,["isMobile"])}},P=e=>(it("data-v-ac362d8d"),e=e(),lt(),e),ao={key:0,id:"readerKeyboardShortcutsDialog"},so=P(()=>l("h3",null,"Keyboard Shortcuts",-1)),no={id:"readerKeyboardShortcutsTable",class:"highlight-table"},ro=P(()=>l("td",null,"Previous page",-1)),io=P(()=>l("td",null,"Next page",-1)),lo=P(()=>l("tr",null,[l("td",null,"h"),l("td",null,"Fit page to screen height")],-1)),co=P(()=>l("tr",null,[l("td",null,"w"),l("td",null,"Fit page to screen width")],-1)),uo=P(()=>l("tr",null,[l("td",null,"s"),l("td",null,"Fit page to screen")],-1)),po=P(()=>l("tr",null,[l("td",null,"o"),l("td",null,"Show page at original size")],-1)),go=P(()=>l("tr",null,[l("td",null,"2"),l("td",null,"Toggle two page view")],-1)),_o=P(()=>l("tr",null,[l("td",null,"m"),l("td",null,"Show comic's metadata")],-1)),mo=P(()=>l("tr",null,[l("td",null,"esc"),l("td",null,"Close book")],-1));function ho(e,t,s,u,n,o){return e.isMobile?B("",!0):(c(),m("div",ao,[so,l("table",no,[l("tbody",null,[l("tr",null,[l("td",null,[a(v,{class:"keyIcon",density:"compact"},{default:i(()=>[_(k(n.mdiMenuLeft),1)]),_:1}),_(", j, "),l("div",null,[a(v,{class:"keyIcon",density:"compact"},{default:i(()=>[_(k(n.mdiAppleKeyboardShift),1)]),_:1}),a(v,{class:"keyIcon",density:"compact"},{default:i(()=>[_(k(n.mdiKeyboardSpace),1)]),_:1})])]),ro]),l("tr",null,[l("td",null,[a(v,{class:"keyIcon",density:"compact"},{default:i(()=>[_(k(n.mdiMenuRight),1)]),_:1}),_(", k, "),a(v,{class:"keyIcon",density:"compact"},{default:i(()=>[_(k(n.mdiKeyboardSpace),1)]),_:1})]),io]),lo,co,uo,po,go,_o,mo])])]))}const fo=h(oo,[["render",ho],["__scopeId","data-v-ac362d8d"]]),ko={name:"ReaderSettingsSuperPanel",components:{DownloadPanel:ke,ReaderKeyboardShortcutsPanel:fo,ReaderSettingsPanel:be}};function bo(e,t,s,u,n,o){const r=be,d=w("ReaderKeyboardShortcutsPanel"),g=ke;return c(),m($,null,[a(r),a(K),a(d),a(K),a(g)],64)}const vo=h(ko,[["render",bo]]);const Po={name:"MainReader",components:{BookChangeDrawer:fe,BooksWindow:_e,ReaderNavToolbar:de,ReaderTitleToolbar:he,SettingsDrawer:se},data(){return{showToolbars:!1,ReaderSettingsSuperPanel:Q(vo)}},computed:{...C(z,["isCodexViewable"]),...S(z,{user:e=>e.user})},watch:{user:function(){this.loadReaderSettings()},isCodexViewable:function(){this.loadReaderSettings()}},created(){I().isSettingsDrawerOpen=!1,this.loadReaderSettings()},methods:{...b(p,["loadReaderSettings"]),toggleToolbars:function(){this.showToolbars=!this.showToolbars}}},wo={key:0,id:"readerContainer"},So={key:1,id:"announcement"};function yo(e,t,s,u,n,o){const r=fe,d=he,g=Mt,y=de,U=w("router-link"),x=se;return c(),m($,null,[a(ct,{id:"readerWrapper"},{default:i(()=>[a(r,{direction:"prev"}),e.isCodexViewable?(c(),m("div",wo,[a(ut,null,{default:i(()=>[j(a(d,null,null,512),[[H,n.showToolbars]])]),_:1}),a(g,{onClick:o.toggleToolbars},null,8,["onClick"]),a(dt,null,{default:i(()=>[j(a(y,null,null,512),[[H,n.showToolbars]])]),_:1})])):(c(),m("div",So,[l("h1",null,[a(U,{to:{name:"home"}},{default:i(()=>[_(" Log in ")]),_:1}),_(" to read comics ")])]))]),_:1}),a(r,{direction:"next"}),a(x,{title:"Reader Settings",panel:n.ReaderSettingsSuperPanel,temporary:""},null,8,["panel"])],64)}const Bo=h(Po,[["render",yo],["__scopeId","data-v-797b9f5c"]]);export{Bo as default};
