<div class="side-container"><div class="side-heading area-round"><h3 class="nowrap m-0" style="max-width: 220px; overflow: hidden; text-overflow: ellipsis;"><span>{{title}}</span></h3><div class="ml-auto"></div><div class="btn btn-white btn-sm me-1" (click)="refresh();"><i class="fa-solid fa-refresh text-blue"></i></div><div class="btn btn-white btn-sm me-1" (click)="create(null, 'file');"><i class="fa-solid fa-plus text-blue"></i></div><div class="dropdown" ngbDropdown=""><div class="btn btn-white btn-sm" ngbDropdownToggle="dropdown" aria-expanded="false"><i class="fa-solid fa-ellipsis-vertical"></i></div><ul class="dropdown-menu dropdown-menu-dark" ngbDropdownMenu=""><a ngbDropdownItem="" (click)="create(null, 'file');">New File</a><a ngbDropdownItem="" (click)="create(null, 'folder');">New Folder</a><a ngbDropdownItem="" (click)="upload(null, 'file');">File Upload</a><a ngbDropdownItem="" (click)="upload(null, 'folder');">Folder Upload</a><a ngbDropdownItem="" (click)="download();">Download</a></ul></div></div><div class="side-body area-round"><mat-tree class="file-tree" [dataSource]="dataSource" [treeControl]="treeControl"><mat-tree-node *matTreeNodeDef="let node" matTreeNodePadding="" matTreeNodePaddingIndent="16px" (click)="open(node)" [ngClass]="active(node) ? 'active' : ''"><i class="tree-icon fa-regular fa-file-lines mr-2" (click)="node.editable = !node.editable; $event.stopPropagation(); service.render()"></i><div class="file-title" style="flex: auto; overflow: hidden;"> <span *ngIf="!node.editable">{{node.name}}</span><input class="form-control form-control-sm" [(ngModel)]="node.rename" placeholder="{{node.type.split('.')[1]}} name" (keyup.enter)="move(node);" *ngIf="node.editable" (click)="$event.stopPropagation();"/></div><i class="icon-action fa-solid fa-download" (click)="download(node); $event.stopPropagation();"></i><i class="icon-action fa-solid fa-trash-can" (click)="delete(node); $event.stopPropagation();"></i></mat-tree-node><mat-tree-node *matTreeNodeDef="let node; when: isNew" matTreeNodePadding="" matTreeNodePaddingIndent="16px" (click)="open(node)"><i class="tree-icon fa-regular fa-file mr-2" *ngIf="node.type == 'new.file'"></i><i class="tree-icon fa-regular fa-folder mr-2" *ngIf="node.type == 'new.folder'"></i><div class="file-title" style="flex: auto; overflow: hidden;"> <input class="form-control form-control-sm" [(ngModel)]="node.name" placeholder="{{node.type.split('.')[1]}} name" (keyup.enter)="create(node);"/></div><i class="icon-action-always fa-solid fa-xmark" (click)="delete(node); $event.stopPropagation();"></i><i class="icon-action-always fa-solid fa-check" (click)="create(node); $event.stopPropagation();"></i></mat-tree-node><mat-tree-node *matTreeNodeDef="let node; when: isFolder" matTreeNodePadding="" matTreeNodeToggle="" matTreeNodePaddingIndent="16px" [ngClass]="active(node) ? 'active' : ''"><i class="tree-icon mr-2" [ngClass]="node.extended ? 'fa-regular fa-folder-open' : 'fa-solid fa-folder'" (click)="node.editable = !node.editable; $event.stopPropagation(); service.render()"></i><div class="file-title" style="flex: auto; overflow: hidden;"><span *ngIf="!node.editable">{{node.name}}</span><input class="form-control form-control-sm" [(ngModel)]="node.rename" placeholder="{{node.type.split('.')[1]}} name" (keyup.enter)="move(node);" *ngIf="node.editable" (click)="$event.stopPropagation();"/></div><i class="icon-action fa-solid fa-trash-can" (click)="delete(node); $event.stopPropagation();"></i><i class="icon-action fa-solid fa-arrow-up-from-bracket" (click)="upload(node, 'file'); $event.stopPropagation();"></i><i class="icon-action fa-solid fa-download" (click)="download(node); $event.stopPropagation();"></i><i class="icon-action fa-solid fa-folder-plus" (click)="create(node, 'folder'); $event.stopPropagation();"></i><i class="icon-action fa-solid fa-plus" (click)="create(node, 'file'); $event.stopPropagation();"></i></mat-tree-node></mat-tree></div></div><div style="display: none;"><form id="file-form"><input class="form-control" id="file-upload" *ngIf="upload_mode == 'folder'" type="file" name="file[]" (change)="upload_file()" webkitdirectory="webkitdirectory" mozdirectory="mozdirectory" msdirectory="msdirectory" odirectory="odirectory" directory="directory" multiple="multiple"/><input class="form-control" id="file-upload" *ngIf="upload_mode == 'file'" type="file" name="file[]" (change)="upload_file()" multiple="multiple"/></form></div><ngx-loading [show]="loading"></ngx-loading>